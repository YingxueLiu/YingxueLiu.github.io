---
layout:     post
title:      "thinkphp cli模式研究"
subtitle:   "THINKPHP CLI模式是thinkphp众多模式的命令行模式"
date:       2016-07-20
author:     "YingxueLiu"
category:  技术
tags:
    - 技术
    - thinkphp
    - cli
---
#php-cli
php-cli是php Command Line Interface的简称，如同它名字的意思，就是php在命令行运行的接口，区别于在Web服务器上运行的php环境（php-cgi, isapi等） 也就是说，php不单可以写前台网页，它还可以用来写后台的程序。 PHP的CLI shell脚本适用于所有的PHP优势，使创建要么支持脚本或系统甚至与GUI应用程序的服务端！——注：windows和linux下都支持php_cli模式
PHP-cli应用场景：
1.多线程应用

这方面的好处，引用鸟哥的话：

优点: 1. 使用多进程, 子进程结束以后, 内核会负责回收资源

2. 使用多进程,子进程异常退出不会导致整个进程Thread退出. 父进程还有机会重建流程.

3. 一个常驻主进程, 只负责任务分发, 逻辑更清楚.

php的多线程—没错就是php多线程应用，虽然大家都普遍认为php没有多线程（curl属于模拟多线程而不是真实的），但是在php_cli模式下的php彻底的是属于多线程。这个时候php属于linux的一个守护进程。 在本人之前写过的《PHP多线程批量采集下载美女图片(续)》的时候在采集程序里虽然使用curl来模拟多线程，但是在浏览器执行的时候也是会遇到执行超时或内存abort而导致程序中断，（要尝试几次才可以彻底成功），但是如果在php-cli模式下执行，你就会发现这个程序执行的很快，php多线程执行的优势被彻底表现出来了.

备注:这种多线程方式不是很成熟，不适合大规模的生成应用，偶尔使用还是可以的
2.定时执行php程序

之前本人总结关于《PHP定时执行计划任务》的三种方式，利用有一张就是利用linux的cron方式，那么这个方式是如何定时执行php程序？请看下文
3.开发桌面程序

你可以做您的Windows或Linux中使用PHP的图形用户界面（GUI）应用！所有你需要的是PHP的命令行接口和一包GTK。这将允许建立真正的便携式图形用户界面应用程序（呵呵，之前只是知道php可以做桌面程序，现在才知道是使用php_cli模式），并且不需要学习别的。
4.编写PHP的shell脚本

如果你不会bash shell或者Perl等的使用，但是你又需要一些脚本去执行的时候，怎么办？这个时候你完全可以使用你熟悉的php编写shell脚本，这个时候你是不是突然感觉PHP是不是太强大了！—–真正做到一种语言，到处开发！
PHP_CLI使用方法
win下面的执行方法：